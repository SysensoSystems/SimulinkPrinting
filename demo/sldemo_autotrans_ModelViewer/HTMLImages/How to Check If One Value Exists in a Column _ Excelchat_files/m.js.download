(function(a){a.$MSLoader_ExternalLibraries=function(){var b=$MS,c=$MS;(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(b)})(function(a){a.ui=a.ui||{},a.ui.version="1.12.1";var b="ui-effects-",c="ui-effects-style",d="ui-effects-animated",e=a;a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:a>d.max?d.max:a)}function d(c){var d=j(),e=d._rgba=[];return c=c.toLowerCase(),o(i,function(a,f){var g,h=f.re.exec(c),i=h&&f.parse(h),j=f.space||"rgba";return i?(g=d[j](i),d[k[j].cache]=g[k[j].cache],e=d._rgba=g._rgba,!1):b}),e.length?("0,0,0,0"===e.join()&&a.extend(e,f.transparent),d):f[c]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&0>a.inArray(null,l[f].slice(0,3))&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):b},is:function(a){var c=j(a),d=!0,e=this;return o(k,function(a,f){var g,h=c[f.cache];return h&&(g=e[f.cache]||f.to&&f.to(e._rgba)||[],o(f.props,function(a,c){return null!=h[c.idx]?d=h[c.idx]===g[c.idx]:b})),d}),d},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(e),function(){function b(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function c(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&(f[d]||(a.fx.step[d]||!isNaN(parseFloat(e)))&&(g[d]=e));return g}var d=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(e.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(e,f,g,h){var j=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",k=j.children?g.find("*").addBack():g;k=k.map(function(){var c=a(this);return{el:c,start:b(this)}}),f=function(){a.each(d,function(a,b){e[b]&&g[b+"Class"](e[b])})},f(),k=k.map(function(){return this.end=b(this.el[0]),this.diff=c(this.start,this.end),this}),g.attr("class",h),k=k.map(function(){var b=this,c=a.Deferred(),d=a.extend({},j,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,k.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),j.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(c,d,e,f,g){return"boolean"==typeof d||void 0===d?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:c},d,e,f)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function e(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function f(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}function g(a,b){var c=b.outerWidth(),d=b.outerHeight(),e=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,f=e.exec(a)||["",0,c,d,0];return{top:parseFloat(f[1])||0,right:"auto"===f[2]?c:parseFloat(f[2]),bottom:"auto"===f[3]?d:parseFloat(f[3]),left:parseFloat(f[4])||0}}a.expr&&a.expr.filters&&a.expr.filters.animated&&(a.expr.filters.animated=function(b){return function(c){return!!a(c).data(d)||b(c)}}(a.expr.filters.animated)),a.uiBackCompat!==!1&&a.extend(a.effects,{save:function(a,c){for(var d=0,e=c.length;e>d;d++)null!==c[d]&&a.data(b+c[d],a[0].style[c[d]])},restore:function(a,c){for(var d,e=0,f=c.length;f>e;e++)null!==c[e]&&(d=a.data(b+c[e]),a.css(c[e],d))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).trigger("focus"),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).trigger("focus")),b}}),a.extend(a.effects,{version:"1.12.1",define:function(b,c,d){return d||(d=c,c="effect"),a.effects.effect[b]=d,a.effects.effect[b].mode=c,d},scaledDimensions:function(a,b,c){if(0===b)return{height:0,width:0,outerHeight:0,outerWidth:0};var d="horizontal"!==c?(b||100)/100:1,e="vertical"!==c?(b||100)/100:1;return{height:a.height()*e,width:a.width()*d,outerHeight:a.outerHeight()*e,outerWidth:a.outerWidth()*d}},clipToBox:function(a){return{width:a.clip.right-a.clip.left,height:a.clip.bottom-a.clip.top,left:a.clip.left,top:a.clip.top}},unshift:function(a,b,c){var d=a.queue();b>1&&d.splice.apply(d,[1,0].concat(d.splice(b,c))),a.dequeue()},saveStyle:function(a){a.data(c,a[0].style.cssText)},restoreStyle:function(a){a[0].style.cssText=a.data(c)||"",a.removeData(c)},mode:function(a,b){var c=a.is(":hidden");return"toggle"===b&&(b=c?"show":"hide"),(c?"hide"===b:"show"===b)&&(b="none"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createPlaceholder:function(c){var d,e=c.css("position"),f=c.position();return c.css({marginTop:c.css("marginTop"),marginBottom:c.css("marginBottom"),marginLeft:c.css("marginLeft"),marginRight:c.css("marginRight")}).outerWidth(c.outerWidth()).outerHeight(c.outerHeight()),/^(static|relative)/.test(e)&&(e="absolute",d=a("<"+c[0].nodeName+">").insertAfter(c).css({display:/^(inline|ruby)/.test(c.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:c.css("marginTop"),marginBottom:c.css("marginBottom"),marginLeft:c.css("marginLeft"),marginRight:c.css("marginRight"),"float":c.css("float")}).outerWidth(c.outerWidth()).outerHeight(c.outerHeight()).addClass("ui-effects-placeholder"),c.data(b+"placeholder",d)),c.css({position:e,left:f.left,top:f.top}),d},removePlaceholder:function(a){var c=b+"placeholder",d=a.data(c);d&&(d.remove(),a.removeData(c))},cleanUp:function(b){a.effects.restoreStyle(b),a.effects.removePlaceholder(b)},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function e(){i.removeData(d),a.effects.cleanUp(i),"hide"===c.mode&&i.hide(),h()}function h(){a.isFunction(j)&&j.call(i[0]),a.isFunction(b)&&b()}var i=a(this);c.mode=l.shift(),a.uiBackCompat===!1||g?"none"===c.mode?(i[k](),h()):f.call(i[0],c,e):(i.is(":hidden")?"hide"===k:"show"===k)?(i[k](),h()):f.call(i[0],c,h)}var c=e.apply(this,arguments),f=a.effects.effect[c.effect],g=f.mode,h=c.queue,i=h||"fx",j=c.complete,k=c.mode,l=[],m=function(b){var c=a(this),e=a.effects.mode(c,k)||g;c.data(d,!0),l.push(e),g&&("show"===e||e===g&&"hide"===e)&&c.show(),g&&"none"===e||a.effects.saveStyle(c),a.isFunction(b)&&b()};return a.fx.off||!f?k?this[k](c.duration,j):this.each(function(){j&&j.call(this)}):h===!1?this.each(m).each(b):this.queue(i,m).queue(i,b)},show:function(a){return function(b){if(f(b))return a.apply(this,arguments);var c=e.apply(this,arguments);return c.mode="show",this.effect.call(this,c)}}(a.fn.show),hide:function(a){return function(b){if(f(b))return a.apply(this,arguments);var c=e.apply(this,arguments);return c.mode="hide",this.effect.call(this,c)}}(a.fn.hide),toggle:function(a){return function(b){if(f(b)||"boolean"==typeof b)return a.apply(this,arguments);var c=e.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d},cssClip:function(a){return a?this.css("clip","rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"):g(this.css("clip"),this)},transfer:function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),a.isFunction(c)&&c()})}}),a.fx.step.clip=function(b){b.clipInit||(b.start=a(b.elem).cssClip(),"string"==typeof b.end&&(b.end=g(b.end,b.elem)),b.clipInit=!0),a(b.elem).cssClip({top:b.pos*(b.end.top-b.start.top)+b.start.top,right:b.pos*(b.end.right-b.start.right)+b.start.right,bottom:b.pos*(b.end.bottom-b.start.bottom)+b.start.bottom,left:b.pos*(b.end.left-b.start.left)+b.start.left})}}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;((b=Math.pow(2,--c))-1)/11>a;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}(),a.effects,a.effects.define("blind","hide",function(b,c){var d={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},e=a(this),f=b.direction||"up",g=e.cssClip(),h={clip:a.extend({},g)},i=a.effects.createPlaceholder(e);h.clip[d[f][0]]=h.clip[d[f][1]],"show"===b.mode&&(e.cssClip(h.clip),i&&i.css(a.effects.clipToBox(h)),h.clip=g),i&&i.animate(a.effects.clipToBox(h),b.duration,b.easing),e.animate(h,{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("fade","toggle",function(b,c){var d="show"===b.mode;a(this).css("opacity",d?0:1).animate({opacity:d?1:0},{queue:!1,duration:b.duration,easing:b.easing,complete:c})})}),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(b)}(function(b){b.extend(b.fn,{validate:function(c){if(!this.length)return void (c&&c.debug&&a.console&&console.warn("Nothing selected, can't validate, returning nothing."));var d=b.data(this[0],"validator");return d?d:(this.attr("novalidate","novalidate"),d=new b.validator(c,this[0]),b.data(this[0],"validator",d),d.settings.onsubmit&&(this.on("click.validate",":submit",function(a){d.settings.submitHandler&&(d.submitButton=a.target),b(this).hasClass("cancel")&&(d.cancelSubmit=!0),void 0!==b(this).attr("formnovalidate")&&(d.cancelSubmit=!0)}),this.on("submit.validate",function(a){function c(){var c,e;return!d.settings.submitHandler||(d.submitButton&&(c=b("<input type='hidden'/>").attr("name",d.submitButton.name).val(b(d.submitButton).val()).appendTo(d.currentForm)),e=d.settings.submitHandler.call(d,d.currentForm,a),d.submitButton&&c.remove(),void 0!==e&&e)}return d.settings.debug&&a.preventDefault(),d.cancelSubmit?(d.cancelSubmit=!1,c()):d.form()?d.pendingRequest?(d.formSubmitted=!0,!1):c():(d.focusInvalid(),!1)})),d)},valid:function(){var a,c,d;return b(this[0]).is("form")?a=this.validate().form():(d=[],a=!0,c=b(this[0].form).validate(),this.each(function(){a=c.element(this)&&a,a||(d=d.concat(c.errorList))}),c.errorList=d),a},rules:function(a,c){var d,e,f,g,h,i,j=this[0];if(null!=j&&null!=j.form){if(a)switch(d=b.data(j.form,"validator").settings,e=d.rules,f=b.validator.staticRules(j),a){case"add":b.extend(f,b.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=b.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},b.each(c.split(/\s/),function(a,c){i[c]=f[c],delete f[c],"required"===c&&b(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=b.validator.normalizeRules(b.extend({},b.validator.classRules(j),b.validator.attributeRules(j),b.validator.dataRules(j),b.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=b.extend({required:h},g),b(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=b.extend(g,{remote:h})),g}}}),b.extend(b.expr.pseudos||b.expr[":"],{blank:function(a){return!b.trim(""+b(a).val())},filled:function(a){var c=b(a).val();return null!==c&&!!b.trim(""+c)},unchecked:function(a){return!b(a).prop("checked")}}),b.validator=function(a,c){this.settings=b.extend(!0,{},b.validator.defaults,a),this.currentForm=c,this.init()},b.validator.format=function(a,c){return 1===arguments.length?function(){var c=b.makeArray(arguments);return c.unshift(a),b.validator.format.apply(this,c)}:void 0===c?a:(arguments.length>2&&c.constructor!==Array&&(c=b.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),b.each(c,function(b,c){a=a.replace(new RegExp("\\{"+b+"\\}","g"),function(){return c})}),a)},b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(a)||b.inArray(c.keyCode,d)!==-1||(a.name in this.submitted||a.name in this.invalid)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,c,d){"radio"===a.type?this.findByName(a.name).addClass(c).removeClass(d):b(a).addClass(c).removeClass(d)},unhighlight:function(a,c,d){"radio"===a.type?this.findByName(a.name).removeClass(c).addClass(d):b(a).removeClass(c).addClass(d)}},setDefaults:function(a){b.extend(b.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:b.validator.format("Please enter no more than {0} characters."),minlength:b.validator.format("Please enter at least {0} characters."),rangelength:b.validator.format("Please enter a value between {0} and {1} characters long."),range:b.validator.format("Please enter a value between {0} and {1}."),max:b.validator.format("Please enter a value less than or equal to {0}."),min:b.validator.format("Please enter a value greater than or equal to {0}."),step:b.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function a(a){!this.form&&this.hasAttribute("contenteditable")&&(this.form=b(this).closest("form")[0]);var c=b.data(this.form,"validator"),d="on"+a.type.replace(/^validate/,""),e=c.settings;e[d]&&!b(this).is(e.ignore)&&e[d].call(c,this,a)}this.labelContainer=b(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm),this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};b.each(this.settings.groups,function(a,c){"string"==typeof c&&(c=c.split(/\s/)),b.each(c,function(b,c){d[c]=a})}),c=this.settings.rules,b.each(c,function(a,d){c[a]=b.validator.normalizeRule(d)}),b(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",a).on("click.validate","select, option, [type='radio'], [type='checkbox']",a),this.settings.invalidHandler&&b(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),b(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),b.extend(this.submitted,this.errorMap),this.invalid=b.extend({},this.errorMap),this.valid()||b(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){var c,d,e=this.clean(a),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=b(f),d=this.groups[f.name],d&&b.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))),e&&e.name in g.invalid&&(g.currentElements.push(e),h=g.check(e)&&h))}),c=this.check(f)!==!1,h=h&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),b(a).attr("aria-invalid",!c)),h},showErrors:function(a){if(a){var c=this;b.extend(this.errorMap,a),this.errorList=b.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=b.grep(this.successList,function(b){return!(b.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){b.fn.resetForm&&b(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var a=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(a)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)a[b]&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&1===b.grep(this.errorList,function(b){return b.element.name===a.name}).length&&a},elements:function(){var c=this,d={};return b(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||b(this).attr("name");return!e&&c.settings.debug&&a.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=b(this).closest("form")[0]),!(e in d||!c.objectLength(b(this).rules()))&&(d[e]=!0,!0)})},clean:function(a){return b(a)[0]},errors:function(){var a=this.settings.errorClass.split(" ").join(".");return b(this.settings.errorElement+"."+a,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=b([]),this.toHide=b([])},reset:function(){this.resetInternals(),this.currentElements=b([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(a){var c,d,e=b(a),f=a.type;return"radio"===f||"checkbox"===f?this.findByName(a.name).filter(":checked").val():"number"===f&&"undefined"!=typeof a.validity?a.validity.badInput?"NaN":e.val():(c=a.hasAttribute("contenteditable")?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"),d>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c)):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(c){c=this.validationTargetFor(this.clean(c));var d,e,f,g=b(c).rules(),h=b.map(g,function(a,b){return b}).length,i=!1,j=this.elementValue(c);if("function"==typeof g.normalizer){if(j=g.normalizer.call(c,j),"string"!=typeof j)throw new TypeError("The normalizer should return a string value.");delete g.normalizer}for(e in g){f={method:e,parameters:g[e]};try{if(d=b.validator.methods[e].call(this,j,c,f.parameters),"dependency-mismatch"===d&&1===h){i=!0;continue}if(i=!1,"pending"===d)return void (this.toHide=this.toHide.not(this.errorsFor(c)));if(!d)return this.formatAndAdd(c,f),!1}catch(k){throw this.settings.debug&&a.console&&console.log("Exception occurred when checking element "+c.id+", check the '"+f.method+"' method.",k),k instanceof TypeError&&(k.message+=".  Exception occurred when checking element "+c.id+", check the '"+f.method+"' method."),k}}if(!i)return this.objectLength(g)&&this.successList.push(c),!0},customDataMessage:function(a,c){return b(a).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||b(a).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(a,c){"string"==typeof c&&(c={method:c});var d=this.findDefined(this.customMessage(a.name,c.method),this.customDataMessage(a,c.method),!this.settings.ignoreTitle&&a.title||void 0,b.validator.messages[c.method],"<strong>Warning: No message defined for "+a.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,a):e.test(d)&&(d=b.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(a,c){var d,e,f,g,h=this.errorsFor(a),i=this.idOrName(a),j=b(a).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=b("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement.call(this,d,b(a)):d.insertAfter(a),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,b(a).attr("aria-describedby",j),e=this.groups[a.name],e&&(g=this,b.each(g.groups,function(a,c){c===e&&b("[name='"+g.escapeCssMeta(a)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,a)),this.toShow=this.toShow.add(h)},errorsFor:function(a){var c=this.escapeCssMeta(this.idOrName(a)),d=b(a).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name)),b(a).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){return b(this.currentForm).find("[name='"+this.escapeCssMeta(a)+"']")},getLength:function(a,c){switch(c.nodeName.toLowerCase()){case"select":return b("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName
(c.name).filter(":checked").length}return a.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{"boolean":function(a){return a},string:function(a,c){return!!b(a,c.form).length},"function":function(a,b){return a(b)}},optional:function(a){var c=this.elementValue(a);return!b.validator.methods.required.call(this,c,a)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,b(a).addClass(this.settings.pendingClass),this.pending[a.name]=!0)},stopRequest:function(a,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[a.name],b(a).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(b(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(b(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(a,c){return c="string"==typeof c&&c||"remote",b.data(a,"previousValue")||b.data(a,"previousValue",{old:null,valid:!0,message:this.defaultMessage(a,{method:c})})},destroy:function(){this.resetForm(),b(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(a,c){a.constructor===String?this.classRuleSettings[a]=c:b.extend(this.classRuleSettings,a)},classRules:function(a){var c={},d=b(a).attr("class");return d&&b.each(d.split(" "),function(){this in b.validator.classRuleSettings&&b.extend(c,b.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(a){var c,d,e={},f=b(a),g=a.getAttribute("type");for(c in b.validator.methods)"required"===c?(d=a.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(a){var c,d,e={},f=b(a),g=a.getAttribute("type");for(c in b.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(a){var c={},d=b.data(a.form,"validator");return d.settings.rules&&(c=b.validator.normalizeRule(d.settings.rules[a.name])||{}),c},normalizeRules:function(a,c){return b.each(a,function(d,e){if(e===!1)return void delete a[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!b(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?a[d]=void 0===e.param||e.param:(b.data(c.form,"validator").resetElements(b(c)),delete a[d])}}),b.each(a,function(d,e){a[d]=b.isFunction(e)&&"normalizer"!==d?e(c):e}),b.each(["minlength","maxlength"],function(){a[this]&&(a[this]=Number(a[this]))}),b.each(["rangelength","range"],function(){var c;a[this]&&(b.isArray(a[this])?a[this]=[Number(a[this][0]),Number(a[this][1])]:"string"==typeof a[this]&&(c=a[this].replace(/[\[\]]/g,"").split(/[\s,]+/),a[this]=[Number(c[0]),Number(c[1])]))}),b.validator.autoCreateRanges&&(null!=a.min&&null!=a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),null!=a.minlength&&null!=a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength)),a},normalizeRule:function(a){if("string"==typeof a){var c={};b.each(a.split(/\s/),function(){c[this]=!0}),a=c}return a},addMethod:function(a,c,d){b.validator.methods[a]=c,b.validator.messages[a]=void 0!==d?d:b.validator.messages[a],c.length<3&&b.validator.addClassRules(a,b.validator.normalizeRule(a))},methods:{required:function(a,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=b(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(a,c)>0:a.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test((new Date(a)).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(a,c,d){var e=b.isArray(a)?a.length:this.getLength(a,c);return this.optional(c)||e>=d},maxlength:function(a,c,d){var e=b.isArray(a)?a.length:this.getLength(a,c);return this.optional(c)||e<=d},rangelength:function(a,c,d){var e=b.isArray(a)?a.length:this.getLength(a,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(a,c,d){var e,f=b(c).attr("type"),g="Step attribute on input type "+f+" is not supported.",h=["text","number","range"],i=new RegExp("\\b"+f+"\\b"),j=f&&!i.test(h.join()),k=function(a){var b=(""+a).match(/(?:\.(\d+))?$/);return b&&b[1]?b[1].length:0},l=function(a){return Math.round(a*Math.pow(10,e))},m=!0;if(j)throw new Error(g);return e=k(d),(k(a)>e||l(a)%l(d)!==0)&&(m=!1),this.optional(c)||m},equalTo:function(a,c,d){var e=b(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){b(c).valid()}),a===e.val()},remote:function(a,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=b.param(b.extend({data:a},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=a,b.ajax(b.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(b){var d,g,h,j=b===!0||"true"===b;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=b||f.defaultMessage(c,{method:e,parameters:a}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var c,d={};return b.ajaxPrefilter?b.ajaxPrefilter(function(a,b,c){var e=a.port;"abort"===a.mode&&(d[e]&&d[e].abort(),d[e]=c)}):(c=b.ajax,b.ajax=function(a){var e=("mode"in a?a:b.ajaxSettings).mode,f=("port"in a?a:b.ajaxSettings).port;return"abort"===e?(d[f]&&d[f].abort(),d[f]=c.apply(this,arguments),d[f]):c.apply(this,arguments)}),b}),function(a){"use strict";var b=function(){this.destroy=function(a){return this.write(a,"",-1)},this.read=function(a){var b=new RegExp("(^|; )"+encodeURIComponent(a)+"=(.*?)($|;)"),c=document.cookie.match(b);return c?decodeURIComponent(c[2]):null},this.write=function(a,b,c,d,e,f){var g=new Date;return c&&typeof c=="number"?g.setTime(g.getTime()+c*1e3):c=null,document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+(c?"; expires="+g.toGMTString():"")+"; path="+(d||"/")+(e?"; domain="+e:"")+(f?"; secure":"")}};a.cookie=new b}(b),function(b,c){typeof exports=="object"&&exports&&typeof exports.nodeName!="string"?c(exports):typeof define=="function"&&define.amd&&!1?define(["exports"],c):(b.Mustache={},c(Mustache))}(this,function(b){function e(a){return typeof a=="function"}function f(a){return d(a)?"array":typeof a}function g(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function h(a,b){return a!=null&&typeof a=="object"&&b in a}function j(a,b){return i.call(a,b)}function l(a){return!j(k,a)}function n(a){return String(a).replace(/[&<>"'\/]/g,function(b){return m[b]})}function t(a,c){function k(){if(i&&!j)while(h.length)delete f[h.pop()];else h=[];i=!1,j=!1}function x(a){typeof a=="string"&&(a=a.split(p,2));if(!d(a)||a.length!==2)throw new Error("Invalid tags: "+a);m=new RegExp(g(a[0])+"\\s*"),n=new RegExp("\\s*"+g(a[1])),t=new RegExp("\\s*"+g("}"+a[1]))}if(!a)return[];var e=[],f=[],h=[],i=!1,j=!1,m,n,t;x(c||b.tags);var y=new w(a),z,A,B,D,G,H;while(!y.eos()){z=y.pos,B=y.scanUntil(m);if(B)for(var I=0,J=B.length;I<J;++I)D=B.charAt(I),l(D)?h.push(f.length):j=!0,f.push(["text",D,z,z+1]),z+=1,D==="\n"&&k();if(!y.scan(m))break;i=!0,A=y.scan(s)||"name",y.scan(o),A==="="?(B=y.scanUntil(q),y.scan(q),y.scanUntil(n)):A==="{"?(B=y.scanUntil(t),y.scan(r),y.scanUntil(n),A="&"):B=y.scanUntil(n);if(!y.scan(n))throw new Error("Unclosed tag at "+y.pos);G=[A,B,z,y.pos],f.push(G);if(A==="#"||A==="^")e.push(G);else if(A==="/"){H=e.pop();if(!H)throw new Error('Unopened section "'+B+'" at '+z);if(H[1]!==B)throw new Error('Unclosed section "'+H[1]+'" at '+z)}else A==="name"||A==="{"||A==="&"?j=!0:A==="="&&x(B)}H=e.pop();if(H)throw new Error('Unclosed section "'+H[1]+'" at '+y.pos);return v(u(f))}function u(a){var b=[],c,d;for(var e=0,f=a.length;e<f;++e)c=a[e],c&&(c[0]==="text"&&d&&d[0]==="text"?(d[1]+=c[1],d[3]=c[3]):(b.push(c),d=c));return b}function v(a){var b=[],c=b,d=[],e,f;for(var g=0,h=a.length;g<h;++g){e=a[g];switch(e[0]){case"#":case"^":c.push(e),d.push(e),c=e[4]=[];break;case"/":f=d.pop(),f[5]=e[2],c=d.length>0?d[d.length-1][4]:b;break;default:c.push(e)}}return b}function w(a){this.string=a,this.tail=a,this.pos=0}function x(a,b){this.view=a,this.cache={".":this.view},this.parent=b}function y(){this.cache={}}var c=Object.prototype.toString,d=Array.isArray||function(b){return c.call(b)==="[object Array]"},i=RegExp.prototype.test,k=/\S/,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},o=/\s*/,p=/\s+/,q=/\s*=/,r=/\s*\}/,s=/#|\^|\/|>|\{|&|=|!/;w.prototype.eos=function(){return this.tail===""},w.prototype.scan=function(b){var c=this.tail.match(b);if(!c||c.index!==0)return"";var d=c[0];return this.tail=this.tail.substring(d.length),this.pos+=d.length,d},w.prototype.scanUntil=function(b){var c=this.tail.search(b),d;switch(c){case-1:d=this.tail,this.tail="";break;case 0:d="";break;default:d=this.tail.substring(0,c),this.tail=this.tail.substring(c)}return this.pos+=d.length,d},x.prototype.push=function(b){return new x(b,this)},x.prototype.lookup=function(b){var c=this.cache,d;if(c.hasOwnProperty(b))d=c[b];else{var f=this,g,i,j=!1;while(f){if(b.indexOf(".")>0){d=f.view,g=b.split("."),i=0;while(d!=null&&i<g.length)i===g.length-1&&(j=h(d,g[i])),d=d[g[i++]]}else d=f.view[b],j=h(f.view,b);if(j)break;f=f.parent}c[b]=d}return e(d)&&(d=d.call(this.view)),d},y.prototype.clearCache=function(){this.cache={}},y.prototype.parse=function(b,c){var d=this.cache,e=d[b];return e==null&&(e=d[b]=t(b,c)),e},y.prototype.render=function(b,c,d){var e=this.parse(b),f=c instanceof x?c:new x(c);return this.renderTokens(e,f,d,b)},y.prototype.renderTokens=function(b,c,d,e){var f="",g,h,i;for(var j=0,k=b.length;j<k;++j)i=undefined,g=b[j],h=g[0],h==="#"?i=this.renderSection(g,c,d,e):h==="^"?i=this.renderInverted(g,c,d,e):h===">"?i=this.renderPartial(g,c,d,e):h==="&"?i=this.unescapedValue(g,c):h==="name"?i=this.escapedValue(g,c):h==="text"&&(i=this.rawValue(g)),i!==undefined&&(f+=i);return f},y.prototype.renderSection=function(b,c,f,g){function k(a){return h.render(a,c,f)}var h=this,i="",j=c.lookup(b[1]);if(!j)return;if(d(j))for(var l=0,m=j.length;l<m;++l)i+=this.renderTokens(b[4],c.push(j[l]),f,g);else if(typeof j=="object"||typeof j=="string"||typeof j=="number")i+=this.renderTokens(b[4],c.push(j),f,g);else if(e(j)){if(typeof g!="string")throw new Error("Cannot use higher-order sections without the original template");j=j.call(c.view,g.slice(b[3],b[5]),k),j!=null&&(i+=j)}else i+=this.renderTokens(b[4],c,f,g);return i},y.prototype.renderInverted=function(b,c,e,f){var g=c.lookup(b[1]);if(!g||d(g)&&g.length===0)return this.renderTokens(b[4],c,e,f)},y.prototype.renderPartial=function(b,c,d){if(!d)return;var f=e(d)?d(b[1]):d[b[1]];if(f!=null)return this.renderTokens(this.parse(f),c,d,f)},y.prototype.unescapedValue=function(b,c){var d=c.lookup(b[1]);if(d!=null)return d},y.prototype.escapedValue=function(c,d){var e=d.lookup(c[1]);if(e!=null)return b.escape(e)},y.prototype.rawValue=function(b){return b[1]},b.name="mustache.js",b.version="2.2.0",b.tags=["{{","}}"];var z=new y;b.clearCache=function(){return z.clearCache()},b.parse=function(b,c){return z.parse(b,c)},b.render=function(b,c,d){if(typeof b!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+f(b)+'" was given as the first argument for mustache#render(template, view, partials)');return z.render(b,c,d)},b.to_html=function(c,d,f,g){var h=b.render(c,d,f);if(e(g))g(h);else return h},b.escape=n,b.Scanner=w,b.Context=x,b.Writer=y})}})(window),function(a){a.$MSLoader_Impressions=function(){var a=$MS,b=$MS;(function(a){a.logImpression=function(b){var c=this,d=a(".ms_article_id").data("ms-article-id");if(!d){var e=a('img[src*="/content?Action=tp&cid="]').attr("src");e&&(d=e.replace(/.*cid=/,""))}if(!d){var f=a('a[href*="/ce2/"]');f.length&&f[0].href.match("mediashower")&&(d=f[0].href.replace(/.*\/ce2\//,""),d=d.replace(/\/[0-9]+\/[0-9]+/,""))}var g={page_name:document.title,user_subscription_id:$MS_config.user_subscription_id,session_id:a.cookie.read("ms_session")||null,bounce_id:a.cookie.read("ms_bid")||null,first_impression_id:a.cookie.read("ms_fiid")||null,article_id:d};a.ajax({url:$MS_config.domain+"/jsonrpc/impression/log",jsonp:"callback",dataType:"jsonp",data:a.param(g),timeout:2500,success:function(b){b&&b.data&&b.data.result&&(a.cookie.write("ms_session",b.data.result.sessionId),b.data.result.bounceId?a.cookie.write("ms_bid",b.data.result.bounceId):a.cookie.destroy("ms_bid"),b.data.result.firstImpressionId?a.cookie.write("ms_fiid",b.data.result.firstImpressionId):a.cookie.destroy("ms_fiid"),!b.data.result.impressionId)},error:function(a){}})},a.setHeartbeat=function(a){a=a||{impressionId:null},setTimeout(function(){$MS.issueHeartbeat({impressionId:a.impressionId})},($MS_config.heartbeat_timer||5)*1e3)},a.issueHeartbeat=function(b){b=b||{impressionId:null};if(b.impressionId){var c=this,d={heartbeat:b.impressionId,time:$MS_config.heartbeat_timer||5};a.ajax({url:$MS_config.domain+"/jsonrpc/heartbeat/log",jsonp:"callback",dataType:"jsonp",data:a.param(d),success:function(a){$MS.setHeartbeat({impressionId:b.impressionId})},error:function(a){}})}},$MS.logImpression()})($MS)}}(window),function(a){a.$MSLoader_ClickToExpand=function(){var a=$MS,b=$MS;(function(a){a.clickToExpand=function(b){var c=this;c.$curtainContent=a(".ms_curtain_content"),c.curtainContentHtml=c.$curtainContent.html(),c.templateType=c.$curtainContent.data("ms-curtain-type"),c.template=a("#ms_"+c.templateType+"_curtain_template").html()||$MS_templates.lead_curtain;if(!a.cookie.read("ms_lead_curtain")&&c.template){var d=Mustache.to_html(c.template,{domain:$MS_config.domain});c.$curtain=a(d),c.$curtainHeader=c.$curtain.find(".ms_curtain_header"),c.$curtainForm=c.$curtain.find(".ms_curtain_form"),c.$curtainFormContainer=c.$curtain.find(".ms_curtain_form_container"),c.$curtainThanks=c.$curtain.find(".ms_curtain_thanks"),c.$curtainPlaceholder=c.$curtain.find(".ms_curtain_placeholder"),c.$curtainBlurredText=c.$curtain.find(".ms_curtain_blurred_text"),$MS_config.white_label&&c.$curtain.addClass("white_label"),c.$curtainContent.before(c.$curtain),c.$curtainContent.empty(),c.$curtainForm.submit(function(b){b.preventDefault();var d={page_name:document.title,user_subscription_id:$MS_config.user_subscription_id};showArticle=function(b){b&&b.data.result&&(a.cookie.write("ms_lead_curtain","1",31536e3),c.$curtainFormContainer.fadeOut("slow"),c.$curtainThanks.fadeIn("slow",function(){c.$curtainHeader.slideUp("normal",function(){c.$curtainBlurredText.fadeOut("slow",function(){c.$curtainContent.hide(),c.$curtainContent.html(c.curtainContentHtml),c.$curtainContent.fadeIn("slow")})}),setTimeout(function(){c.$curtainPlaceholder.slideUp("slow"),c.$curtainThanks.slideUp("slow")},2500)}))},a.ajax({url:$MS_config.domain+"/jsonrpc/cte/capture_lead",jsonp:"callback",dataType:"jsonp",data:c.$curtainForm.serialize()+"&"+a.param(d),timeout:2500,success:function(a){showArticle(a)},error:function(a){showArticle(a)}})})}};var b=new $MS.clickToExpand({})})($MS)}}(window),function(a){a.$MSLoader_ClickTracking=function(){var b=$MS,c=$MS;(function(b){b.setupClickTrackingEvent=function(c){var d=this;d.clickTrackedLinks=b(".ms_click_tracking"),d.clickTrackedLinks.each(function(c,d){var e=b(d),f=e.data("ms-ce-id"),g=e.data("ms-article-id"),h=e.data("ms-writer-id");f&&g&&e.click(function(c){var d=this.href;if(d){c.preventDefault();var e=$MS_config.ms_domain||"https://mediashower.com";b.ajax({url:e+"/ce2/"+g+"/"+f+"/"+h,jsonp:"callback",dataType:"jsonp",timeout:1e3,success:function(b){a.location=d},error:function(b){a.location=d}})}})})},b.getUrlParameter=function(c){var d=decodeURIComponent(a.location.search.substring(1)),e=d.split("&"),f;for(var g=0;g<e.length;g++){f=e[g].split("=");if(f[0]===c)return f[1]===undefined?!0:f[1]}},b.trackClick=function(a){var c=b.getUrlParameter("__mscta")||"",d=c.split("_"),e=d[0],f=d[1],g=d[2];if(e&&f&&g){var h=document.referrer;if(h.match("mediashower.com/projects")||h.match("mediashower.com/studio")||h.match("click_test_fail"))return;var i=$MS_config.ms_domain||"https://mediashower.com";b.ajax({url:i+"/ce2/"+f+"/"+e+"/"+g,jsonp:"callback",dataType:"jsonp",timeout:1e3,success:function(a){},error:function(a){}})}},$MS.trackClick()})($MS)}}(window),function(a){$MS_config={domain:"https://a.mediashower.com"};var b=function(a,b){var c=document.createElement("script");c.src=a;var d=document.getElementsByTagName("head")[0],e=!1;c.onload=c.onreadystatechange=function(){!e&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")&&(e=!0,b(),c.onload=c.onreadystatechange=null,d.removeChild(c))},d.appendChild(c)},c=function(){if(a.$MS)return;var c=typeof jQuery!="undefined"?jQuery:{};b("//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js",function(){a.$MS=jQuery.noConflict(),c&&(jQuery=c),d()})},d=function(){a.$MSLoader_ExternalLibraries(),typeof a.$MSLoader_Templates!="undefined"&&a.$MSLoader_Templates(),a.$MSLoader_Impressions(),a.$MSLoader_ClickToExpand(),a.$MSLoader_ClickTracking()};if(typeof jQuery!="undefined"){var e=jQuery.fn.jquery.split(".");parseInt(e[0])>=3&&parseInt(e[1])>=2&&parseInt(e[2])>=1&&!1?(a.$MS=jQuery,setTimeout(d(),500)):c()}else c()}(window),function(a){a.$MSLoader_Templates=function(){var b=$MS,c=$MS;a.$MS_templates=a.$MS_templates||{},a.$MS_templates.lead_curtain=' <div class="ms_curtain_lead ms_lead ms_curtain"> <div class="ms_curtain_header"> <span>To continue reading...<span> <span class="powered_by"><object type="image/svg+xml" data="{{domain}}/static/ms-magic/images/powered-by-mediashower.svg">powered by Media Shower</object></span> </div> <div class="ms_curtain_form_container"> <form class="ms_curtain_form ms_curtain_lead_form"> <div class="input input-field"><input type="text" name="first_name" placeholder="Your first name" required/></div> <div class="input input-field"><input type="text" name="last_name" placeholder="Your last name" required/></div> <div class="input input-field"><input type="email" name="email" placeholder="Your email address" required/></div> <div class="input"><input type="submit" name="submit" class="submit button primary" class="ms_curtain_submit ms_curtain_lead_submit" value="Expand article" /></div> <span class="powered_by"><object type="image/svg+xml" data="{{domain}}/static/ms-magic/images/powered-by-mediashower.svg">powered by Media Shower</object></span> </form> </div> <div class="ms_curtain_thanks"> <span>Thank you</span> </div> <div class="ms_curtain_placeholder"></div> <div class="ms_curtain_blurred_text"> <img src="{{domain}}/static/ms-magic/images/curtain.png" /> </div> </div> '}}(window);